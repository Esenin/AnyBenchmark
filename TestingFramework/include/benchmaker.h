#pragma once#include <string>#include <functional>#include <vector>#include "iTestObject.h"#include "../src/pipelineHandlers/pipelineHolder.h"namespace benchmark{//! @brief MeasureType choose what kind of system timers will be usedenum class MeasureType{    realTime //< measures real time elapsed    , cpuTime //< measures cpu-used time    , hybrid //< to decrease devation (based on context-switching for e.g.) it measures 2/3 * cpu + 1/3 real time};//! @class Benchmaker makes tests routine measuring average time for testclass Benchmaker{public:    Benchmaker();    ~Benchmaker();    //! @arg count shows how much repeats of single test will be done to get average value    //! please consider that it will be at least one warmup iteration    void setRoundsCount(unsigned int const &count = 10);    void setMeasureType(MeasureType measureType);    //! @arg object is a subject that will be tested    void setRunnableObject(ITestObject *object);    typedef std::function<std::pair<bool, int> (void)>  ParamGenerator;    void setTestingParam(int const x);    // loop with @attention increasing params    //! @arg from is start param "N"    //! @arg to   is max bound of tests    //! @arg step is a positive difference between each test    void setTestingParam(int from, int to, int step = 1);    void setTestingParam(std::initializer_list<int> list);    //! returns (true, N) as next testing param or (false, .) if there are no more testing params    void setTestingParam(ParamGenerator paramYielder);    //! start benchmark on given object    void makeBenchmark();    //! @arg mustLog switches mode of logging to file    void setLogginToFile(FileOutput const format);    //! @arg name is prefix of filename with tests result    //! must be called After setting new runnable object    void setBenchmarkName(std::string const &name);private:    FileOutput mFileFormat;    MeasureType mMeasureType;    int mRoundsCount;    std::string mBenchmarkName;    std::string mResultsFilename;    ITestObject *mTestObj;    benchmark::impl::PipelineHolder mPipeline;    ParamGenerator mParamGenerator;    std::vector<int> mParamList; // could be unused    //! makes preparation before- and cleaning after test    //! @return time per test in [ms]    long makeRound(int const &paramN);    //! runs single test    //! @return elapsed time in [ms]    long makeTest();    void configureBenchmark();    void freeTestObject();    std::string getTimeString();};} // benchmark